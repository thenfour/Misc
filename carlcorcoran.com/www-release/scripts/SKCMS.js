var SK=SK||{};SK.__globalCMS=null,SK.CMS=function(e){SK.__globalCMS=this,this.config=e,$("a").each(function(e,t){var n=$(this).data("navlinkforpage");if(!n)return;var r=$(this).data("lang");if(!r)return;$(this).attr("lang")||$(this).attr("lang",r);var i=SK.__globalCMS.MakeHash(n,r);$(this).attr("href",i).click(function(e){SK.__globalCMS.__navigateToHash($(this).attr("href"))})}),$("a").each(function(e,t){var n=$(this).data("navlinkforlanguage");if(!n)return;$(this).attr("lang")||$(this).attr("lang",n),$(this).click(function(e){SK.__globalCMS.__navigateToHash($(this).attr("href"))})}),setTimeout(function(){var e=window.location.hash.substring(1);SK.__globalCMS.__navigateToHash(e)},1)},SK.CMS.prototype.MakeHash=function(e,t){return"#"+t+"_"+e},SK.CMS.prototype.ParseHash=function(e){e.indexOf("#")==0&&(e=e.substring(1));var t=e.split("_");return{lang:t[0],pageID:t[1]}},SK.CMS.prototype.__navigateToHash=function(e){var t=this.ParseHash(e);this.currentPage=this.config.storageEngine.GetPage(t.pageID),this.currentLanguage=t.lang,this.__navigateExec()},SK.CMS.prototype.__navigateExec=function(){this.currentPage||(this.currentPage=this.config.storageEngine.GetDefaultPage()),this.currentLanguage||(this.currentLanguage=this.config.storageEngine.GetDefaultLanguage()),$("a").each(function(e,t){var n=$(this).data("navlinkforpage");if(!n)return;var r=$(this).data("lang");if(!r)return;r==SK.__globalCMS.currentLanguage?$(this).show():$(this).hide()}),$("a").each(function(e,t){var n=$(this).data("navlinkforlanguage");if(!n)return;$(this).attr("href",SK.__globalCMS.MakeHash(SK.__globalCMS.currentPage.navItem.id,n))}),$("div").each(function(e,t){var n=$(this).data("contentforlanguage");if(!n)return;var r=$(this).data("contentforpage");if(!r)return;$(this).hide()}),$("div").each(function(e,t){var n=$(this).data("contentforlanguage");if(!n)return;var r=$(this).data("contentforpage");if(!r)return;var i=r==SK.__globalCMS.currentPage.navItem.id&&n.indexOf(SK.__globalCMS.currentLanguage)!=-1;i&&$(this).show()}),window.document.title=this.config.storageEngine.GetPageTitle(this.currentPage,this.currentLanguage)};